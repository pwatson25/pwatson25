<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Our Super Heroes</title>
  <link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
  <link rel="stylesheet" href="css/heroes.css">
</head>

<body>

  <header>
    <h1>Using Fetch() Method</h1>
    <h1 id="page-title"></h1>
  </header>
  <main>
    <section id="list">
    </section>
  </main>

  <script>
    // fetch JSON file from given location on github
    fetch('https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json')
      .then(function (response) {
        return response.json();
      })
      .then(function (superHeroes) {
        showHeroes(superHeroes);
      });

    function populateHeader(jsonObject) {
      // get the header element/selector in order to append it with content
      let header = document.querySelector('header');
      // Example: Direct append the header using element ID reference
      document.getElementById('page-title').innerHTML = "Direct: " + jsonObject['squadName'];
      // create elements as content containers - title and paragraph
      let theTitle = document.createElement('h1');
        theTitle.textContent = "Create Element: " + jsonObject['squadName'];
      let theSubheading = document.createElement('p');
        theSubheading.textContent = 'Hometown: ' + jsonObject['homeTown'] + ' // Formed: ' + jsonObject['formed'];

      header.appendChild(theTitle);
      header.appendChild(theSubheading);
    }

    function showHeroes(jsonObject) {
      let section = document.querySelector('section');
      let heroes = jsonObject['members'];

      for (var i = 0; i < heroes.length; i++) {
        var myArticle = document.createElement('article');
        var myH2 = document.createElement('h2');
        var myPara1 = document.createElement('p');
        var myPara2 = document.createElement('p');
        var myPara3 = document.createElement('p');
        var myList = document.createElement('div');

        myH2.textContent = heroes[i].name;
        myPara1.textContent = 'Secret identity: ' + heroes[i].secretIdentity;
        myPara2.textContent = 'Age: ' + heroes[i].age;
        myPara3.textContent = 'Superpowers:';

        var stuff = document.createElement('h4');
        var random = document.createElement('h4');
        var that = document.createElement('h4');

        stuff.textContent = 'sahhh dude';
        random.textContent = 'sahhh dude';
        that.textContent = 'sahhh dude';

        myList.appendChild(stuff);
        myList.appendChild(random);
        myList.appendChild(that);


        myArticle.appendChild(myH2);
        myArticle.appendChild(myPara1);
        myArticle.appendChild(myPara2);
        myArticle.appendChild(myPara3);
        myArticle.appendChild(myList);

        section.appendChild(myArticle);
      }
    }
  </script>

</body>

</html>